"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[409],{4409:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"register-container"},[t("div",{staticClass:"register"},[e._m(0),t("el-form",{ref:"formData",staticClass:"content",attrs:{rules:e.rules,model:e.formData,"status-icon":"","label-width":"80px"}},[t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{attrs:{type:"text",maxlength:"11",placeholder:"请输入手机号",autocomplete:"off","show-word-limit":""},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1),t("el-form-item",{attrs:{label:"验证码",prop:"code"}},[t("el-input",{attrs:{type:"text",maxlength:"6",placeholder:"请输入验证码",autocomplete:"off","show-word-limit":""},model:{value:e.formData.code,callback:function(t){e.$set(e.formData,"code",t)},expression:"formData.code"}}),e._v("   "),t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.getCode}},[e._v("获取验证码")])],1),t("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入登录密码",autocomplete:"off"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),t("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[t("el-input",{attrs:{type:"password",placeholder:"确认密码",autocomplete:"off"},model:{value:e.formData.confirmPassword,callback:function(t){e.$set(e.formData,"confirmPassword",t)},expression:"formData.confirmPassword"}})],1),t("el-form-item",{attrs:{prop:"agree"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"已阅读并同意《尚品汇用户协议》"},model:{value:e.formData.agree,callback:function(t){e.$set(e.formData,"agree",t)},expression:"formData.agree"}})],1),t("div",{staticClass:"button-container"},[t("el-button",{attrs:{type:"warning",round:""},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置注册信息")]),t("el-button",{attrs:{type:"success",round:""},on:{click:function(t){return e.userRegister("formData")}}},[e._v("完成注册")])],1)],1)],1),e._m(1)])},s=[function(){var e=this,t=e._self._c;return t("h3",{staticClass:"title"},[e._v(" 注册新用户 "),t("span",{staticClass:"go"},[e._v("我有账号，去 "),t("a",{attrs:{href:"login.html",target:"_blank"}},[e._v("登陆")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"copyright"},[t("ul",[t("li",[e._v("关于我们")]),t("li",[e._v("联系我们")]),t("li",[e._v("联系客服")]),t("li",[e._v("商家入驻")]),t("li",[e._v("营销中心")]),t("li",[e._v("手机尚品汇")]),t("li",[e._v("销售联盟")]),t("li",[e._v("尚品汇社区")])]),t("div",{staticClass:"address"},[e._v("地址：湖北省荆州市荆州区太湖港管理区长江大学工程技术学院4418室")]),t("div",{staticClass:"beian"},[e._v("鄂ICP备2023010909号-1")])])}],o=(r(7658),{name:"Register",data(){var e=(e,t,r)=>{""===t?r(new Error("请输入密码")):t.length>16||t.length<6?r(new Error("请输入6~16位的字符")):(""!==this.formData.confirmPassword&&this.$refs.formData.validateField("confirmPassword"),r())},t=(e,t,r)=>{""===t?r(new Error("请再次输入密码")):t!==this.formData.password?r(new Error("两次输入密码不一致!")):r()},r=(e,t,r)=>{0==t?r(new Error("请同意用户协议")):r()};return{formData:{phone:"",code:"",password:"",confirmPassword:"",agree:!0},rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"手机号必须为11个数字",trigger:"blur"},{type:"string",message:"手机号必须为数字"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"验证码必须为6个字符",trigger:"blur"}],password:[{required:!0,validator:e,trigger:"blur"}],confirmPassword:[{required:!0,validator:t,trigger:"blur"}],agree:[{required:!0,validator:r,trigger:"change"}]}}},methods:{async getCode(){try{const{phone:e}=this.formData;e&&await this.$store.dispatch("user/getCode",this.formData.phone),this.formData.code=this.$store.state.user.code}catch(e){alert(e)}},userRegister(e){const{phone:t,code:r,password:a}=this.formData;this.$refs[e].validate((s=>{if(!s)return!1;this.$store.dispatch("user/userRegister",{phone:t,code:r,password:a}).then((e=>{alert("注册成功，请尽快登录吧！"),this.$router.push("/login")})).catch((t=>{this.resetForm(e),alert(t)}))}))},resetForm(e){this.$refs[e].resetFields()}}}),i=o,l=r(1001),n=(0,l.Z)(i,a,s,!1,null,"24d628ff",null),c=n.exports}}]);